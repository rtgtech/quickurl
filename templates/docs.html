<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QuickURL Docs</title>
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
  </head>
  <body>
    <header class="topbar">
      <div class="topbar-inner">
        <a class="logo" href="/">QuickURL <span class="logo-docs">Docs</span></a>
        <div class="topbar-right">
          <div class="topbar-actions">
            <button class="nav-button primary" type="button">Sign Up</button>
          </div>
          <div class="topbar-menu">
            <button class="ghost menu-trigger" type="button" aria-haspopup="menu" aria-expanded="false" aria-controls="topbar-menu">
              Menu
            </button>
            <div class="menu-panel" id="topbar-menu" role="menu" aria-hidden="true">
              <a class="menu-item" href="/docs" role="menuitem">Docs</a>
              <button class="menu-item primary" type="button" role="menuitem">Sign Up</button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="page">
      <div class="hero">
        <div>
          <p class="kicker">Docs</p>
          <h1>QuickURL API basics</h1>
          <p class="subhead">Everything you need to shorten, resolve, and redirect in a few requests.</p>
        </div>
        <div class="orb" aria-hidden="true"></div>
      </div>

      <a class="doc-link" href="/">visit main page â†’</a>

      <section class="doc-section">
        <div class="doc-header">
          <p class="kicker">Endpoint</p>
          <h2>https://quickurl.app/shorten/</h2>
        </div>
        <div class="doc-grid">
          <div class="doc-card doc-stack">
            <div>
              <h3>Overview</h3>
              <p class="muted">Create a short code for a long URL. Send JSON with the URL and get back a short code and short URL.</p>
              <div class="doc-list">
                <div><span class="label">Parameters</span> <span class="value"><span class="doc-inline-code">url</span> (string, required), <span class="doc-inline-code">custom_code</span> (string, optional)</span></div>
                <div><span class="label">Response</span> <span class="value"><span class="doc-inline-code">short_code</span>, <span class="doc-inline-code">short_url</span></span></div>
              </div>
            </div>
            <div>
              <h3>Endpoint URL</h3>
              <div class="result">
                <span class="label">POST</span>
                <div class="value">https://quickurl.app/shorten/</div>
              </div>
            </div>
            <div class="doc-code">
              <div class="code-panel">
                <div class="tab-bar" data-tabs="shorten">
                  <div class="tabs" role="tablist" aria-label="Shorten example language">
                    <button class="tab active" data-tab="javascript" type="button" role="tab" aria-selected="true">JavaScript</button>
                    <button class="tab" data-tab="python" type="button" role="tab" aria-selected="false">Python</button>
                    <button class="tab" data-tab="curl" type="button" role="tab" aria-selected="false">cURL</button>
                  </div>
                  <label class="sr-only" for="shorten-language">Language</label>
                  <select class="code-select" id="shorten-language" data-select="shorten">
                    <option value="javascript">JavaScript</option>
                    <option value="python">Python</option>
                    <option value="curl">cURL</option>
                  </select>
                  <button class="copy-code" type="button" data-copy="shorten">Copy</button>
                </div>
                <pre class="code-block" data-panel="shorten" data-content="javascript"><code>fetch("/shorten", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ url: "https://example.com", custom_code: "myCode123" })
})
  .then((res) => res.json())
  .then(console.log);</code></pre>
                <pre class="code-block hidden" data-panel="shorten" data-content="python"><code>import requests

response = requests.post(
    "http://localhost:5000/shorten",
    json={"url": "https://example.com", "custom_code": "myCode123"},
)
print(response.json())</code></pre>
                <pre class="code-block hidden" data-panel="shorten" data-content="curl"><code>curl -X POST http://localhost:5000/shorten \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com","custom_code":"myCode123"}'</code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="doc-section">
        <div class="doc-header">
          <p class="kicker">Endpoint</p>
          <h2>https://quickurl.app/resolve/&lt;code&gt;</h2>
        </div>
        <div class="doc-grid">
          <div class="doc-card doc-stack">
            <div>
              <h3>Overview</h3>
              <p class="muted">Resolve a short code to its destination URL without redirecting.</p>
              <div class="doc-list">
                <div><span class="label">Parameters</span> <span class="value"><span class="doc-inline-code">code</span> (string, required)</span></div>
                <div><span class="label">Response</span> <span class="value"><span class="doc-inline-code">url</span></span></div>
              </div>
            </div>
            <div>
              <h3>Endpoint URL</h3>
              <div class="result">
                <span class="label">GET</span>
                <div class="value">https://quickurl.app/resolve/&lt;code&gt;</div>
              </div>
            </div>
            <div class="doc-code">
              <div class="code-panel">
                <div class="tab-bar" data-tabs="resolve">
                  <div class="tabs" role="tablist" aria-label="Resolve example language">
                    <button class="tab active" data-tab="javascript" type="button" role="tab" aria-selected="true">JavaScript</button>
                    <button class="tab" data-tab="python" type="button" role="tab" aria-selected="false">Python</button>
                    <button class="tab" data-tab="curl" type="button" role="tab" aria-selected="false">cURL</button>
                  </div>
                  <label class="sr-only" for="resolve-language">Language</label>
                  <select class="code-select" id="resolve-language" data-select="resolve">
                    <option value="javascript">JavaScript</option>
                    <option value="python">Python</option>
                    <option value="curl">cURL</option>
                  </select>
                  <button class="copy-code" type="button" data-copy="resolve">Copy</button>
                </div>
                <pre class="code-block" data-panel="resolve" data-content="javascript"><code>fetch("/resolve/g8")
  .then((res) => res.json())
  .then(console.log);</code></pre>
                <pre class="code-block hidden" data-panel="resolve" data-content="python"><code>import requests

response = requests.get("http://localhost:5000/resolve/g8")
print(response.json())</code></pre>
                <pre class="code-block hidden" data-panel="resolve" data-content="curl"><code>curl http://localhost:5000/resolve/g8</code></pre>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      const menu = document.querySelector(".topbar-menu");
      const menuTrigger = document.querySelector(".menu-trigger");
      if (menu && menuTrigger) {
        const menuPanel = menu.querySelector(".menu-panel");
        const menuItems = menuPanel
          ? menuPanel.querySelectorAll("a, button, [role='menuitem']")
          : [];

        const setMenuOpen = (open) => {
          menu.classList.toggle("open", open);
          menuTrigger.setAttribute("aria-expanded", String(open));
          if (menuPanel) {
            menuPanel.setAttribute("aria-hidden", String(!open));
          }
          menuItems.forEach((item) => {
            if (open) {
              item.removeAttribute("tabindex");
            } else {
              item.setAttribute("tabindex", "-1");
            }
          });
        };

        const closeMenu = () => {
          setMenuOpen(false);
        };

        menuTrigger.addEventListener("click", (event) => {
          event.stopPropagation();
          const isOpen = !menu.classList.contains("open");
          setMenuOpen(isOpen);
        });

        document.addEventListener("click", (event) => {
          if (!menu.contains(event.target)) {
            closeMenu();
          }
        });

        document.addEventListener("keydown", (event) => {
          if (event.key === "Escape") {
            closeMenu();
            menuTrigger.focus();
          }
        });

        setMenuOpen(menu.classList.contains("open"));
      }

      const setActivePanel = (panelName, tabValue) => {
        document
          .querySelectorAll(`[data-panel="${panelName}"]`)
          .forEach((panel) => {
            panel.classList.toggle("hidden", panel.dataset.content !== tabValue);
          });

        const group = document.querySelector(`[data-tabs="${panelName}"]`);
        if (!group) return;
        group.querySelectorAll(".tab").forEach((tab) => {
          const isActive = tab.dataset.tab === tabValue;
          tab.classList.toggle("active", isActive);
          tab.setAttribute("aria-selected", String(isActive));
        });

        const select = group.querySelector(`[data-select="${panelName}"]`);
        if (select && select.value !== tabValue) {
          select.value = tabValue;
        }
      };

      document.querySelectorAll("[data-tabs]").forEach((group) => {
        group.addEventListener("click", (event) => {
          const button = event.target.closest(".tab");
          if (!button) return;
          const panelName = group.dataset.tabs;
          setActivePanel(panelName, button.dataset.tab);
        });
      });

      document.querySelectorAll("[data-select]").forEach((select) => {
        select.addEventListener("change", (event) => {
          const panelName = event.target.dataset.select;
          setActivePanel(panelName, event.target.value);
        });
      });

      const copyText = async (text) => {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(text);
          return;
        }
        const textarea = document.createElement("textarea");
        textarea.value = text;
        textarea.setAttribute("readonly", "");
        textarea.style.position = "absolute";
        textarea.style.left = "-9999px";
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand("copy");
        document.body.removeChild(textarea);
      };

      document.querySelectorAll("[data-copy]").forEach((button) => {
        button.addEventListener("click", async () => {
          const panelName = button.dataset.copy;
          const activePanel = document.querySelector(
            `[data-panel="${panelName}"]:not(.hidden)`
          );
          if (!activePanel) return;
          const code = activePanel.textContent.trim();
          const original = button.textContent;
          try {
            await copyText(code);
            button.textContent = "Copied";
          } catch (err) {
            button.textContent = "Failed";
          } finally {
            setTimeout(() => {
              button.textContent = original;
            }, 1200);
          }
        });
      });
    </script>
  </body>
</html>
